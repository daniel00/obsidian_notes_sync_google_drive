---
source: https://www.acmicpc.net/problem/1572
created: 2023-03-05 19:36.11
updated: 2023-03-05 21:03.09
---
 정렬되지 않은 배열이 주어지고, 
이 배열중 크기가 K인 배열의 중앙값을 모두 더해서 출력하는 문제이다.
시간복잡도 때문에 당연히 정렬을 하면 안된다.

바이너리인덱스 트리를 이용해서,
배열의 각 숫자가 출현하는 빈도수를 계산해서, 중앙값을 구하면 된다.
중앙값을 기준으로 큰지 작은지만을 구분하면 되므로 정렬이 필요없다.

바이너리 서치를 이용해서 가운데 값으르 찾고, 
이 과정에서 숫자가 출현한 빈도수를 찾는데 바이너리 인덱스 트리를 이용한다.

크기 K인 배열은, 최초 크기가 K인 배열에서
맨앞 데이터는 삭제하고, 맨뒤에 데이터를 하나 추가하는 과정을 반복하면 된다.
이 과정도 바이너리 인덱스 트리의 update를 활용해서 logN만에 가능 하도록 한다.

\*필요한 알고리즘
\- 바이너리 인덱스 트리
\- 바이너리 서치

* [1572번](https://www.acmicpc.net/problem/1572)

* [제출](https://www.acmicpc.net/submit/1572)
* [맞힌 사람](https://www.acmicpc.net/problem/status/1572)
* [숏코딩](https://www.acmicpc.net/short/status/1572)
* [재채점 결과](https://www.acmicpc.net/problem/history/1572)
* [채점 현황](https://www.acmicpc.net/status?from_problem=1&problem_id=1572)
* [내 제출](https://www.acmicpc.net/status?from_mine=1&problem_id=1572&user_id=daniel00)
* [난이도 기여](https://solved.ac/contribute/1572)
* [질문 게시판](https://www.acmicpc.net/board/search/all/problem/1572)

# 중앙값 성공

| 시간 제한 | 메모리 제한 | 제출  | 정답  | 맞힌 사람 | 정답 비율 |
| --- | --- | --- | --- | --- | --- |
| 1 초 | 128 MB | 4946 | 1565 | 1093 | 35.568% |

## 문제

중앙값이란, 수열을 정렬했고, 그 크기가 N일 때, 1부터 시작해서 (N+1)/2번째 있는 원소가 그 수열의 중앙값이다. 예를 들어, {1, 2, 6, 5, 4, 3}에서는 3이고, {11, 13, 12, 15, 14}에서는 13이다.

오세준은 1초에 온도를 하나씩 재는 온도계를 만들었다. 이 온도계에는 작은 디스플레이 창이 하나 있는데, 이 창에는 지금부터 최근 K초 까지 온도의 중앙값을 표시해 준다. (온도를 재기시작한지 K초부터 표시한다. 그 전에는 아무것도 출력되지 않는다.)

오세준은 온도를 N초동안 쟀다. 그 시간 동안 온도계의 디스플레이 창에 뜨는 숫자의 합을 구하는 프로그램을 작성하시오.

다른 말로 하면, 길이가 N인 수열이 주어진다. 이 수열은 N-K+1 개의 길이가 K인 연속된 부분 수열이 존재한다. 이 부분 수열의 중앙값의 합을 출력하는 프로그램을 작성하시오.

## 입력

첫째 줄에 N과 K가 주어진다. N은 250,000보다 작거나 같은 자연수이고, K는 5,000보다 작거나 같은 자연수이다. N은 항상 K보다 크거나 같다. 둘째 줄부터 N개의 수가 한 줄에 하나씩 주어진다. 입력으로 주어지는 수는 65536보다 작거나 같은 자연수 또는 0이다.

## 출력

첫째 줄에 정답을 출력한다. 정답은 263\-1보다 작거나 같다.

## 예제 입력 1

10 3
3
4
5
6
7
8
9
10
11
12

## 예제 출력 1

60

## 예제 입력 2

5 2
10
13
13
13
13

## 예제 출력 2

49

## 예제 입력 3

7 3
4123
19382
23581
23040
1743
18362
60593

## 예제 출력 3

102186

## 출처

* 문제를 번역한 사람: [baekjoon](https://www.acmicpc.net/user/baekjoon)

* 빠진 조건을 찾은 사람: [yclock](https://www.acmicpc.net/user/yclock)

## 알고리즘 분류

* [자료 구조](https://www.acmicpc.net/problem/tag/175)

* [세그먼트 트리](https://www.acmicpc.net/problem/tag/65)
* [이분 탐색](https://www.acmicpc.net/problem/tag/12)

## 메모

[메모 작성하기](https://www.acmicpc.net/problem/1572#)
